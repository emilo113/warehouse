<app-loader [small]="true" [hidden]="!loading"></app-loader>

<div class="modalWrapper" *ngIf="!loading">

	<div class="modal-header">
		<h4 class="modal-title">Delivery positions</h4>
		<button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss()">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">

		<form class="form-default">

			<div class="order-positions">

				<div class="group-inline first-half-width" *ngFor="let position of positions; let i = index; let last = last">

					<div class="checkbox">
						<label style="font-size: 2.5em">
							<input type="checkbox" id="checkedPosition-{{i}}" class="form-check-input" (change)="onPositionStateChange($event, i)" title="checkedPosition-{{i}}">
							<span class="cr"><i class="cr-icon fa fa-check"></i></span>
						</label>
					</div>

					<div class="form-label-group">
						<input type="text" class="form-control" id="positionName-{{i}}" name="positionName-{{i}}" placeholder="Name" [(ngModel)]="position.name" disabled>
						<label for="positionName-{{i}}">Name</label>
					</div>

					<div class="form-label-group">
						<input type="number" class="form-control" id="positionAmount-{{i}}" name="positionAmount-{{i}}" placeholder="Amount" [(ngModel)]="position.amount" (change)="onChangeAmount($event, i)" [disabled]="!checked[i]">
						<label for="positionAmount-{{i}}">Amount</label>
					</div>

				</div>

			</div>

		</form>

	</div>
	<div class="modal-footer">
		<input type="submit" class="btn btn-primary" value="Add checked" (click)="addPositions()" [disabled]="!isValidData()">
	</div>

</div>